# VSCodeæ‰©å±•å‘å¸ƒæŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†SillyTaverné¢„è®¾ç¼–è¾‘å™¨æ‰©å±•å‘å¸ƒåˆ°VSCodeæ‰©å±•å•†åº—ï¼ˆVisual Studio Marketplaceï¼‰ã€‚

## ğŸ“‹ å‘å¸ƒå‰æ£€æŸ¥æ¸…å•

### âœ… å¿…éœ€æ–‡ä»¶å·²åˆ›å»º
- [x] `LICENSE` - MITè®¸å¯è¯æ–‡ä»¶
- [x] `CHANGELOG.md` - å˜æ›´æ—¥å¿—
- [x] `README.md` - é¡¹ç›®è¯´æ˜æ–‡æ¡£
- [x] `package.json` - æ‰©å±•æ¸…å•æ–‡ä»¶
- [ ] æ‰©å±•å›¾æ ‡æ–‡ä»¶ï¼ˆæ¨è128x128åƒç´ çš„PNGæ–‡ä»¶ï¼‰

### âš ï¸ éœ€è¦æ›´æ–°çš„ä¿¡æ¯

åœ¨å‘å¸ƒå‰ï¼Œæ‚¨éœ€è¦åœ¨ `package.json` ä¸­æ›´æ–°ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **publisher**: æ‚¨çš„å‘å¸ƒè€…åç§°
2. **author**: æ‚¨çš„å§“åå’Œé‚®ç®±
3. **repository**: GitHubä»“åº“åœ°å€
4. **homepage**: é¡¹ç›®ä¸»é¡µåœ°å€
5. **bugs**: é—®é¢˜åé¦ˆåœ°å€

## ğŸš€ å‘å¸ƒæ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…å‘å¸ƒå·¥å…·

é¦–å…ˆå®‰è£…Visual Studio Code Extension Manager (vsce)ï¼š

```bash
npm install -g vsce
```

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºAzure DevOpsè´¦æˆ·

1. è®¿é—® [Azure DevOps](https://dev.azure.com/)
2. ä½¿ç”¨Microsoftè´¦æˆ·æ³¨å†Œæˆ–ç™»å½•
3. åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ç»‡ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

### ç¬¬ä¸‰æ­¥ï¼šè·å–ä¸ªäººè®¿é—®ä»¤ç‰Œ

1. åœ¨Azure DevOpsä¸­ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ç”¨æˆ·è®¾ç½®
2. é€‰æ‹©"Personal access tokens"
3. ç‚¹å‡»"New Token"
4. é…ç½®ä»¤ç‰Œï¼š
   - **Name**: VSCodeæ‰©å±•å‘å¸ƒ
   - **Organization**: é€‰æ‹©æ‚¨çš„ç»„ç»‡
   - **Expiration**: è®¾ç½®è¿‡æœŸæ—¶é—´
   - **Scopes**: é€‰æ‹©"Marketplace" > "Manage"
5. ç‚¹å‡»"Create"å¹¶ä¿å­˜ç”Ÿæˆçš„ä»¤ç‰Œ

### ç¬¬å››æ­¥ï¼šåˆ›å»ºå‘å¸ƒè€…è´¦æˆ·

1. è®¿é—® [Visual Studio Marketplace](https://marketplace.visualstudio.com/manage)
2. ç‚¹å‡»"Create publisher"
3. å¡«å†™å‘å¸ƒè€…ä¿¡æ¯ï¼š
   - **ID**: å‘å¸ƒè€…æ ‡è¯†ç¬¦ï¼ˆç”¨äºpackage.jsonä¸­çš„publisherå­—æ®µï¼‰
   - **Display name**: æ˜¾ç¤ºåç§°
   - **Description**: æè¿°
4. å®Œæˆåˆ›å»º

### ç¬¬äº”æ­¥ï¼šæ›´æ–°package.json

æ›´æ–° `package.json` ä¸­çš„ `publisher` å­—æ®µä¸ºæ‚¨åˆšåˆ›å»ºçš„å‘å¸ƒè€…IDï¼š

```json
{
  "publisher": "your-actual-publisher-id"
}
```

### ç¬¬å…­æ­¥ï¼šæ·»åŠ æ‰©å±•å›¾æ ‡ï¼ˆå¯é€‰ä½†æ¨èï¼‰

1. åˆ›å»ºä¸€ä¸ª128x128åƒç´ çš„PNGå›¾æ ‡æ–‡ä»¶ï¼Œå‘½åä¸º `icon.png`
2. å°†å›¾æ ‡æ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•
3. åœ¨ `package.json` ä¸­æ·»åŠ å›¾æ ‡å¼•ç”¨ï¼š

```json
{
  "icon": "icon.png"
}
```

### ç¬¬ä¸ƒæ­¥ï¼šç¼–è¯‘å’Œæµ‹è¯•

ç¡®ä¿æ‰©å±•å¯ä»¥æ­£å¸¸ç¼–è¯‘å’Œè¿è¡Œï¼š

```bash
# å®‰è£…ä¾èµ–
npm install

# ç¼–è¯‘TypeScript
npm run compile

# åœ¨VS Codeä¸­æµ‹è¯•æ‰©å±•ï¼ˆæŒ‰F5å¯åŠ¨è°ƒè¯•ï¼‰
```

### ç¬¬å…«æ­¥ï¼šæ‰“åŒ…æ‰©å±•

```bash
# æ‰“åŒ…ä¸º.vsixæ–‡ä»¶
npm run package
```

è¿™å°†ç”Ÿæˆä¸€ä¸ª `.vsix` æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥ç”¨å®ƒè¿›è¡Œæœ¬åœ°æµ‹è¯•æˆ–æ‰‹åŠ¨å®‰è£…ã€‚

### ç¬¬ä¹æ­¥ï¼šç™»å½•vsce

ä½¿ç”¨æ‚¨çš„ä¸ªäººè®¿é—®ä»¤ç‰Œç™»å½•ï¼š

```bash
vsce login your-publisher-id
```

è¾“å…¥æ‚¨åœ¨ç¬¬ä¸‰æ­¥è·å–çš„ä¸ªäººè®¿é—®ä»¤ç‰Œã€‚

### ç¬¬åæ­¥ï¼šå‘å¸ƒæ‰©å±•

```bash
# å‘å¸ƒåˆ°æ‰©å±•å•†åº—
npm run publish
```

æˆ–è€…ä½¿ç”¨vsceç›´æ¥å‘å¸ƒï¼š

```bash
vsce publish
```

## ğŸ”„ æ›´æ–°æ‰©å±•

å½“æ‚¨éœ€è¦å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼š

1. æ›´æ–° `CHANGELOG.md` æ–‡ä»¶
2. æ›´æ–° `package.json` ä¸­çš„ç‰ˆæœ¬å·
3. ç¼–è¯‘å’Œæµ‹è¯•æ›´æ”¹
4. è¿è¡Œå‘å¸ƒå‘½ä»¤ï¼š

```bash
# è‡ªåŠ¨å¢åŠ è¡¥ä¸ç‰ˆæœ¬å·å¹¶å‘å¸ƒ
vsce publish patch

# è‡ªåŠ¨å¢åŠ æ¬¡ç‰ˆæœ¬å·å¹¶å‘å¸ƒ
vsce publish minor

# è‡ªåŠ¨å¢åŠ ä¸»ç‰ˆæœ¬å·å¹¶å‘å¸ƒ
vsce publish major

# å‘å¸ƒæŒ‡å®šç‰ˆæœ¬
vsce publish 1.0.1
```

## ğŸ“Š ç›‘æ§æ‰©å±•

å‘å¸ƒåï¼Œæ‚¨å¯ä»¥åœ¨ä»¥ä¸‹åœ°æ–¹ç›‘æ§æ‰©å±•ï¼š

1. **Marketplaceç®¡ç†é¡µé¢**: https://marketplace.visualstudio.com/manage
2. **æ‰©å±•é¡µé¢**: https://marketplace.visualstudio.com/items?itemName=your-publisher-id.ai-preset-editor
3. **ä¸‹è½½ç»Ÿè®¡**: åœ¨ç®¡ç†é¡µé¢æŸ¥çœ‹å®‰è£…å’Œä¸‹è½½æ•°æ®

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç‰ˆæœ¬æ§åˆ¶**: ä¸€æ—¦å‘å¸ƒç‰ˆæœ¬ï¼Œå°±ä¸èƒ½åˆ é™¤æˆ–ä¿®æ”¹ã€‚ç¡®ä¿ç‰ˆæœ¬å·æ­£ç¡®ã€‚
2. **å†…å®¹å®¡æ ¸**: Microsoftä¼šå®¡æ ¸æ‰©å±•å†…å®¹ï¼Œç¡®ä¿ç¬¦åˆæ”¿ç­–ã€‚
3. **æ›´æ–°é¢‘ç‡**: é¿å…é¢‘ç¹å‘å¸ƒå°æ›´æ–°ï¼Œå»ºè®®ç§¯ç´¯å¤šä¸ªæ”¹è¿›åå†å‘å¸ƒã€‚
4. **ç”¨æˆ·åé¦ˆ**: å…³æ³¨æ‰©å±•é¡µé¢çš„è¯„è®ºå’Œè¯„åˆ†ï¼ŒåŠæ—¶å›åº”ç”¨æˆ·åé¦ˆã€‚

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

1. **"Publisher not found"**
   - ç¡®ä¿åœ¨package.jsonä¸­ä½¿ç”¨æ­£ç¡®çš„å‘å¸ƒè€…ID
   - ç¡®ä¿å·²ç»åˆ›å»ºäº†å‘å¸ƒè€…è´¦æˆ·

2. **"Personal access token is invalid"**
   - æ£€æŸ¥ä»¤ç‰Œæ˜¯å¦è¿‡æœŸ
   - ç¡®ä¿ä»¤ç‰Œæœ‰"Marketplace Manage"æƒé™

3. **"Extension validation failed"**
   - æ£€æŸ¥package.jsonæ ¼å¼æ˜¯å¦æ­£ç¡®
   - ç¡®ä¿æ‰€æœ‰å¿…éœ€å­—æ®µéƒ½å·²å¡«å†™

4. **ç¼–è¯‘é”™è¯¯**
   - è¿è¡Œ `npm run compile` æ£€æŸ¥TypeScriptç¼–è¯‘é”™è¯¯
   - ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½å·²å®‰è£…

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. æŸ¥çœ‹ [vsceå®˜æ–¹æ–‡æ¡£](https://code.visualstudio.com/api/working-with-extensions/publishing-extension)
2. è®¿é—® [VS Codeæ‰©å±•å¼€å‘æŒ‡å—](https://code.visualstudio.com/api)
3. åœ¨ [GitHub Issues](https://github.com/Microsoft/vscode-vsce/issues) ä¸­æœç´¢ç›¸å…³é—®é¢˜

ç¥æ‚¨å‘å¸ƒæˆåŠŸï¼ğŸ‰ 